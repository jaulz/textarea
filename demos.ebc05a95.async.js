"use strict";(self.webpackChunkrc_textarea=self.webpackChunkrc_textarea||[]).push([[433],{54239:function(de,m,e){e.r(m),e.d(m,{default:function(){return T}});var _=e(27424),u=e.n(_),z=e(39595),E=e(67294),r=e(85893);function T(){var W=(0,E.useState)(`hello
world`),l=u()(W,2),D=l[0],j=l[1],b=function(U){var d=U.target.value;j(d)};return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Uncontrolled"}),(0,r.jsx)(z.Z,{autoSize:!0,allowClear:!0}),(0,r.jsx)("p",{children:"controlled"}),(0,r.jsx)(z.Z,{value:D,onChange:b,allowClear:!0})]})}},31797:function(de,m,e){e.r(m),e.d(m,{default:function(){return T}});var _=e(27424),u=e.n(_),z=e(67294),E=e(39595),r=e(85893);function T(){var W=(0,z.useState)(`hello
world`),l=u()(W,2),D=l[0],j=l[1],b=function(d){var C=d.target.value;j(C)},P=function(d){var C=d.width,I=d.height;console.log("size is changed, width:".concat(C," height:").concat(I))};return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"when set to true"}),(0,r.jsx)(E.Z,{autoSize:!0,onResize:P,value:D,onChange:b}),(0,r.jsx)("p",{children:"when set to object of minRows and maxRows"}),(0,r.jsx)(E.Z,{autoSize:{minRows:5,maxRows:15},onResize:P,value:D,onChange:b})]})}},39919:function(de,m,e){e.r(m),e.d(m,{default:function(){return T}});var _=e(27424),u=e.n(_),z=e(39595),E=e(67294),r=e(85893);function T(){var W=(0,E.useState)(`hello
world`),l=u()(W,2),D=l[0],j=l[1],b=function(U){var d=U.target.value;j(d)};return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Uncontrolled"}),(0,r.jsx)(z.Z,{autoSize:!0,showCount:!0}),(0,r.jsx)("p",{children:"controlled"}),(0,r.jsx)(z.Z,{value:D,onChange:b,showCount:!0,maxLength:100})]})}},11289:function(de,m,e){e.r(m),e.d(m,{default:function(){return T}});var _=e(27424),u=e.n(_),z=e(67294),E=e(39595),r=e(85893);function T(){var W=(0,z.useState)(""),l=u()(W,2),D=l[0],j=l[1],b=function(C){var I=C.target.value;console.log(C.target.value),j(I)},P=function(C){var I=C.width,ce=C.height;console.log("size is changed, width:".concat(I," height:").concat(ce))},U=function(C){console.log("enter key is pressed")};return(0,r.jsx)("div",{children:(0,r.jsx)(E.Z,{prefixCls:"custom-textarea",onPressEnter:U,onResize:P,value:D,onChange:b,autoFocus:!0,onFocus:function(){return console.log("focus")}})})}},39595:function(de,m,e){e.d(m,{Z:function(){return Ze}});var _=e(42122),u=e.n(_),z=e(38416),E=e.n(z),r=e(18698),T=e.n(r),W=e(27424),l=e.n(W),D=e(70215),j=e.n(D),b=e(861),P=e.n(b),U=e(94184),d=e.n(U),C=e(59775),I=e(80133),ce=e(60869),c=e(67294),Ie=e(48555),Pe=e(82546),Me=e(64543),Oe=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,_e=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],ge={},p;function We(t){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=t.getAttribute("id")||t.getAttribute("data-reactid")||t.getAttribute("name");if(x&&ge[n])return ge[n];var o=window.getComputedStyle(t),v=o.getPropertyValue("box-sizing")||o.getPropertyValue("-moz-box-sizing")||o.getPropertyValue("-webkit-box-sizing"),R=parseFloat(o.getPropertyValue("padding-bottom"))+parseFloat(o.getPropertyValue("padding-top")),A=parseFloat(o.getPropertyValue("border-bottom-width"))+parseFloat(o.getPropertyValue("border-top-width")),i=_e.map(function(s){return"".concat(s,":").concat(o.getPropertyValue(s))}).join(";"),y={sizingStyle:i,paddingSize:R,borderSize:A,boxSizing:v};return x&&n&&(ge[n]=y),y}function Ue(t){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;p||(p=document.createElement("textarea"),p.setAttribute("tab-index","-1"),p.setAttribute("aria-hidden","true"),document.body.appendChild(p)),t.getAttribute("wrap")?p.setAttribute("wrap",t.getAttribute("wrap")):p.removeAttribute("wrap");var v=We(t,x),R=v.paddingSize,A=v.borderSize,i=v.boxSizing,y=v.sizingStyle;p.setAttribute("style","".concat(y,";").concat(Oe)),p.value=t.value||t.placeholder||"";var s=void 0,S=void 0,L,f=p.scrollHeight;if(i==="border-box"?f+=A:i==="content-box"&&(f-=R),n!==null||o!==null){p.value=" ";var J=p.scrollHeight-R;n!==null&&(s=J*n,i==="border-box"&&(s=s+R+A),f=Math.max(s,f)),o!==null&&(S=J*o,i==="border-box"&&(S=S+R+A),L=f>S?"":"hidden",f=Math.min(S,f))}var M={height:f,overflowY:L,resize:"none"};return s&&(M.minHeight=s),S&&(M.maxHeight=S),M}var H=e(85893),Le=["prefixCls","onPressEnter","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],me=0,xe=1,Se=2,Be=c.forwardRef(function(t,x){var n=t,o=n.prefixCls,v=n.onPressEnter,R=n.defaultValue,A=n.value,i=n.autoSize,y=n.onResize,s=n.className,S=n.style,L=n.disabled,f=n.onChange,J=n.onInternalAutoSize,M=j()(n,Le),ae=(0,ce.Z)(R,{value:A,postState:function(h){return h!=null?h:""}}),Y=l()(ae,2),Ee=Y[0],G=Y[1],X=function(h){G(h.target.value),f==null||f(h)},B=c.useRef();c.useImperativeHandle(x,function(){return{textArea:B.current}});var F=c.useMemo(function(){return i&&T()(i)==="object"?[i.minRows,i.maxRows]:[]},[i]),V=l()(F,2),Q=V[0],ve=V[1],k=!!i,q=function(){try{if(document.activeElement===B.current){var h=B.current,Re=h.selectionStart,Ae=h.selectionEnd,ye=h.scrollTop;B.current.setSelectionRange(Re,Ae),B.current.scrollTop=ye}}catch(je){}},re=c.useState(Se),Z=l()(re,2),N=Z[0],ee=Z[1],Ce=c.useState(),te=l()(Ce,2),pe=te[0],fe=te[1],oe=function(){ee(me)};(0,Pe.default)(function(){k&&oe()},[A,Q,ve,k]),(0,Pe.default)(function(){if(N===me)ee(xe);else if(N===xe){var K=Ue(B.current,!1,Q,ve);ee(Se),fe(K)}else q()},[N]);var se=c.useRef(),ne=function(){Me.Z.cancel(se.current)},le=function(h){N===Se&&(y==null||y(h),i&&(ne(),se.current=(0,Me.Z)(function(){oe()})))};c.useEffect(function(){return ne},[]);var he=k?pe:null,$=u()(u()({},S),he);return(N===me||N===xe)&&($.overflowY="hidden",$.overflowX="hidden"),(0,H.jsx)(Ie.Z,{onResize:le,disabled:!(i||y),children:(0,H.jsx)("textarea",u()(u()({},M),{},{ref:B,style:$,className:d()(o,s,E()({},"".concat(o,"-disabled"),L)),disabled:L,value:Ee,onChange:X}))})}),Ve=Be,Ke=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","classes","showCount","className","style","disabled","hidden","classNames","styles"];function Te(t,x){return P()(t||"").slice(0,x).join("")}function De(t,x,n,o){var v=n;return t?v=Te(n,o):P()(x||"").length<n.length&&P()(n||"").length>o&&(v=x),v}var we=c.forwardRef(function(t,x){var n,o=t.defaultValue,v=t.value,R=t.onFocus,A=t.onBlur,i=t.onChange,y=t.allowClear,s=t.maxLength,S=t.onCompositionStart,L=t.onCompositionEnd,f=t.suffix,J=t.prefixCls,M=J===void 0?"rc-textarea":J,ae=t.classes,Y=t.showCount,Ee=t.className,G=t.style,X=t.disabled,B=t.hidden,F=t.classNames,V=t.styles,Q=j()(t,Ke),ve=(0,ce.Z)(o,{value:v,defaultValue:o}),k=l()(ve,2),q=k[0],re=k[1],Z=(0,c.useRef)(null),N=c.useState(!1),ee=l()(N,2),Ce=ee[0],te=ee[1],pe=c.useState(!1),fe=l()(pe,2),oe=fe[0],se=fe[1],ne=c.useRef(),le=c.useRef(0),he=function(){Z.current.textArea.focus()};(0,c.useImperativeHandle)(x,function(){return{resizableTextArea:Z.current,focus:he,blur:function(){Z.current.textArea.blur()}}}),(0,c.useEffect)(function(){te(function(O){return!X&&O})},[X]);var $=Number(s)>0,K=function(a){se(!0),ne.current=q,le.current=a.currentTarget.selectionStart,S==null||S(a)},h=function(a){se(!1);var g=a.currentTarget.value;if($){var w,He=le.current>=s+1||le.current===((w=ne.current)===null||w===void 0?void 0:w.length);g=De(He,ne.current,g,s)}g!==q&&(re(g),(0,I.rJ)(a.currentTarget,a,i,g)),L==null||L(a)},Re=function(a){var g=a.target.value;if(!oe&&$){var w=a.target.selectionStart>=s+1||a.target.selectionStart===g.length||!a.target.selectionStart;g=De(w,q,g,s)}re(g),(0,I.rJ)(a.currentTarget,a,i,g)},Ae=function(a){var g=Q.onPressEnter,w=Q.onKeyDown;a.key==="Enter"&&g&&g(a),w==null||w(a)},ye=function(a){te(!0),R==null||R(a)},je=function(a){te(!1),A==null||A(a)},Ne=function(a){re(""),he(),(0,I.rJ)(Z.current.textArea,a,i)},ie=(0,I.D7)(q);!oe&&$&&v==null&&(ie=Te(ie,s));var ze=f,ue;if(Y){var be=P()(ie).length;T()(Y)==="object"?ue=Y.formatter({value:ie,count:be,maxLength:s}):ue="".concat(be).concat($?" / ".concat(s):""),ze=(0,H.jsxs)(H.Fragment,{children:[ze,(0,H.jsx)("span",{className:d()("".concat(M,"-data-count"),F==null?void 0:F.count),style:V==null?void 0:V.count,children:ue})]})}var $e=(0,H.jsx)(C.Q,{value:ie,allowClear:y,handleReset:Ne,suffix:ze,prefixCls:M,classes:{affixWrapper:d()(ae==null?void 0:ae.affixWrapper,(n={},E()(n,"".concat(M,"-show-count"),Y),E()(n,"".concat(M,"-textarea-allow-clear"),y),n))},disabled:X,focused:Ce,className:Ee,style:G,dataAttrs:{affixWrapper:{"data-count":typeof ue=="string"?ue:void 0}},hidden:B,inputElement:(0,H.jsx)(Ve,u()(u()({},Q),{},{onKeyDown:Ae,onChange:Re,onFocus:ye,onBlur:je,onCompositionStart:K,onCompositionEnd:h,className:F==null?void 0:F.textarea,style:u()(u()({},V==null?void 0:V.textarea),{},{resize:G==null?void 0:G.resize}),disabled:X,prefixCls:M,ref:Z}))});return $e}),Fe=we,Ze=Fe}}]);
