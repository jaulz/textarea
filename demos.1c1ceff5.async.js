"use strict";(self.webpackChunkrc_textarea=self.webpackChunkrc_textarea||[]).push([[433],{54239:function(ue,m,e){e.r(m),e.d(m,{default:function(){return D}});var W=e(27424),v=e.n(W),y=e(39595),E=e(67294),r=e(85893);function D(){var U=(0,E.useState)(`hello
world`),l=v()(U,2),j=l[0],b=l[1],I=function(L){var u=L.target.value;b(u)};return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Uncontrolled"}),(0,r.jsx)(y.Z,{autoSize:!0,allowClear:!0}),(0,r.jsx)("p",{children:"controlled"}),(0,r.jsx)(y.Z,{value:j,onChange:I,allowClear:!0})]})}},31797:function(ue,m,e){e.r(m),e.d(m,{default:function(){return D}});var W=e(27424),v=e.n(W),y=e(67294),E=e(39595),r=e(85893);function D(){var U=(0,y.useState)(`hello
world`),l=v()(U,2),j=l[0],b=l[1],I=function(u){var C=u.target.value;b(C)},P=function(u){var C=u.width,_=u.height;console.log("size is changed, width:".concat(C," height:").concat(_))};return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"when set to true"}),(0,r.jsx)(E.Z,{autoSize:!0,onResize:P,value:j,onChange:I}),(0,r.jsx)("p",{children:"when set to object of minRows and maxRows"}),(0,r.jsx)(E.Z,{autoSize:{minRows:5,maxRows:15},onResize:P,value:j,onChange:I})]})}},39919:function(ue,m,e){e.r(m),e.d(m,{default:function(){return D}});var W=e(27424),v=e.n(W),y=e(39595),E=e(67294),r=e(85893);function D(){var U=(0,E.useState)(`hello
world`),l=v()(U,2),j=l[0],b=l[1],I=function(L){var u=L.target.value;b(u)};return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Uncontrolled"}),(0,r.jsx)(y.Z,{autoSize:!0,showCount:!0}),(0,r.jsx)("p",{children:"controlled"}),(0,r.jsx)(y.Z,{value:j,onChange:I,showCount:!0,maxLength:100})]})}},11289:function(ue,m,e){e.r(m),e.d(m,{default:function(){return D}});var W=e(27424),v=e.n(W),y=e(67294),E=e(39595),r=e(85893);function D(){var U=(0,y.useState)(""),l=v()(U,2),j=l[0],b=l[1],I=function(C){var _=C.target.value;console.log(C.target.value),b(_)},P=function(C){var _=C.width,de=C.height;console.log("size is changed, width:".concat(_," height:").concat(de))},L=function(C){console.log("enter key is pressed")};return(0,r.jsx)("div",{children:(0,r.jsx)(E.Z,{prefixCls:"custom-textarea",onPressEnter:L,onResize:P,value:j,onChange:I,autoFocus:!0,onFocus:function(){return console.log("focus")}})})}},39595:function(ue,m,e){e.d(m,{Z:function(){return Fe}});var W=e(42122),v=e.n(W),y=e(38416),E=e.n(y),r=e(18698),D=e.n(r),U=e(27424),l=e.n(U),j=e(70215),b=e.n(j),I=e(861),P=e.n(I),L=e(94184),u=e.n(L),C=e(59775),_=e(80133),de=e(60869),d=e(67294),be=e(48555),Pe=e(82546),Me=e(64543),Ie=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,_e=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],he={},p;function Oe(t){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=t.getAttribute("id")||t.getAttribute("data-reactid")||t.getAttribute("name");if(x&&he[n])return he[n];var o=window.getComputedStyle(t),c=o.getPropertyValue("box-sizing")||o.getPropertyValue("-moz-box-sizing")||o.getPropertyValue("-webkit-box-sizing"),R=parseFloat(o.getPropertyValue("padding-bottom"))+parseFloat(o.getPropertyValue("padding-top")),A=parseFloat(o.getPropertyValue("border-bottom-width"))+parseFloat(o.getPropertyValue("border-top-width")),i=_e.map(function(s){return"".concat(s,":").concat(o.getPropertyValue(s))}).join(";"),z={sizingStyle:i,paddingSize:R,borderSize:A,boxSizing:c};return x&&n&&(he[n]=z),z}function We(t){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;p||(p=document.createElement("textarea"),p.setAttribute("tab-index","-1"),p.setAttribute("aria-hidden","true"),document.body.appendChild(p)),t.getAttribute("wrap")?p.setAttribute("wrap",t.getAttribute("wrap")):p.removeAttribute("wrap");var c=Oe(t,x),R=c.paddingSize,A=c.borderSize,i=c.boxSizing,z=c.sizingStyle;p.setAttribute("style","".concat(z,";").concat(Ie)),p.value=t.value||t.placeholder||"";var s=void 0,S=void 0,B,f=p.scrollHeight;if(i==="border-box"?f+=A:i==="content-box"&&(f-=R),n!==null||o!==null){p.value=" ";var X=p.scrollHeight-R;n!==null&&(s=X*n,i==="border-box"&&(s=s+R+A),f=Math.max(s,f)),o!==null&&(S=X*o,i==="border-box"&&(S=S+R+A),B=f>S?"":"hidden",f=Math.min(S,f))}var M={height:f,overflowY:B,resize:"none"};return s&&(M.minHeight=s),S&&(M.maxHeight=S),M}var N=e(85893),Ue=["prefixCls","onPressEnter","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],ge=0,me=1,xe=2,Le=d.forwardRef(function(t,x){var n=t,o=n.prefixCls,c=n.onPressEnter,R=n.defaultValue,A=n.value,i=n.autoSize,z=n.onResize,s=n.className,S=n.style,B=n.disabled,f=n.onChange,X=n.onInternalAutoSize,M=b()(n,Ue),T=(0,de.Z)(R,{value:A,postState:function(h){return h!=null?h:""}}),F=l()(T,2),Se=F[0],$=F[1],Q=function(h){$(h.target.value),f==null||f(h)},V=d.useRef();d.useImperativeHandle(x,function(){return{textArea:V.current}});var ne=d.useMemo(function(){return i&&D()(i)==="object"?[i.minRows,i.maxRows]:[]},[i]),ce=l()(ne,2),ae=ce[0],H=ce[1],Y=!!i,J=function(){try{if(document.activeElement===V.current){var h=V.current,Re=h.selectionStart,Ae=h.selectionEnd,ze=h.scrollTop;V.current.setSelectionRange(Re,Ae),V.current.scrollTop=ze}}catch(te){}},Ee=d.useState(xe),re=l()(Ee,2),Z=re[0],G=re[1],Ce=d.useState(),oe=l()(Ce,2),ve=oe[0],fe=oe[1],k=function(){G(ge)};(0,Pe.default)(function(){Y&&k()},[A,ae,H,Y]),(0,Pe.default)(function(){if(Z===ge)G(me);else if(Z===me){var K=We(V.current,!1,ae,H);G(xe),fe(K)}else J()},[Z]);var q=d.useRef(),se=function(){Me.Z.cancel(q.current)},ee=function(h){Z===xe&&(z==null||z(h),i&&(se(),q.current=(0,Me.Z)(function(){k()})))};d.useEffect(function(){return se},[]);var pe=Y?ve:null,le=v()(v()({},S),pe);return(Z===ge||Z===me)&&(le.overflowY="hidden",le.overflowX="hidden"),(0,N.jsx)(be.Z,{onResize:ee,disabled:!(i||z),children:(0,N.jsx)("textarea",v()(v()({},M),{},{ref:V,style:le,className:u()(o,s,E()({},"".concat(o,"-disabled"),B)),disabled:B,value:Se,onChange:Q}))})}),Be=Le,Ve=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","classes","showCount","className","style","disabled","hidden"];function Te(t,x){return P()(t||"").slice(0,x).join("")}function De(t,x,n,o){var c=n;return t?c=Te(n,o):P()(x||"").length<n.length&&P()(n||"").length>o&&(c=x),c}var Ke=d.forwardRef(function(t,x){var n,o=t.defaultValue,c=t.value,R=t.onFocus,A=t.onBlur,i=t.onChange,z=t.allowClear,s=t.maxLength,S=t.onCompositionStart,B=t.onCompositionEnd,f=t.suffix,X=t.prefixCls,M=X===void 0?"rc-textarea":X,T=t.classes,F=t.showCount,Se=t.className,$=t.style,Q=t.disabled,V=t.hidden,ne=b()(t,Ve),ce=(0,de.Z)(o,{value:c,defaultValue:o}),ae=l()(ce,2),H=ae[0],Y=ae[1],J=(0,d.useRef)(null),Ee=d.useState(!1),re=l()(Ee,2),Z=re[0],G=re[1],Ce=d.useState(!1),oe=l()(Ce,2),ve=oe[0],fe=oe[1],k=d.useRef(),q=d.useRef(0),se=function(){J.current.textArea.focus()};(0,d.useImperativeHandle)(x,function(){return{resizableTextArea:J.current,focus:se,blur:function(){J.current.textArea.blur()}}}),(0,d.useEffect)(function(){G(function(O){return!Q&&O})},[Q]);var ee=Number(s)>0,pe=function(a){fe(!0),k.current=H,q.current=a.currentTarget.selectionStart,S==null||S(a)},le=function(a){fe(!1);var g=a.currentTarget.value;if(ee){var w,Ne=q.current>=s+1||q.current===((w=k.current)===null||w===void 0?void 0:w.length);g=De(Ne,k.current,g,s)}g!==H&&(Y(g),(0,_.rJ)(a.currentTarget,a,i,g)),B==null||B(a)},K=function(a){var g=a.target.value;if(!ve&&ee){var w=a.target.selectionStart>=s+1||a.target.selectionStart===g.length||!a.target.selectionStart;g=De(w,H,g,s)}Y(g),(0,_.rJ)(a.currentTarget,a,i,g)},h=function(a){var g=ne.onPressEnter,w=ne.onKeyDown;a.key==="Enter"&&g&&g(a),w==null||w(a)},Re=function(a){G(!0),R==null||R(a)},Ae=function(a){G(!1),A==null||A(a)},ze=function(a){Y(""),se(),(0,_.rJ)(J.current.textArea,a,i)},te=(0,_.D7)(H);!ve&&ee&&c==null&&(te=Te(te,s));var ye=f,ie;if(F){var je=P()(te).length;D()(F)==="object"?ie=F.formatter({value:te,count:je,maxLength:s}):ie="".concat(je).concat(ee?" / ".concat(s):""),ye=(0,N.jsxs)(N.Fragment,{children:[ye,(0,N.jsx)("span",{className:u()("".concat(M,"-data-count"),T==null?void 0:T.count),children:ie})]})}var Ze=(0,N.jsx)(C.Q,{value:te,allowClear:z,handleReset:ze,suffix:ye,prefixCls:M,classes:{affixWrapper:u()(T==null?void 0:T.affixWrapper,(n={},E()(n,"".concat(M,"-show-count"),F),E()(n,"".concat(M,"-textarea-allow-clear"),z),n))},disabled:Q,focused:Z,className:Se,style:$,inputStyle:{resize:$==null?void 0:$.resize},dataAttrs:{affixWrapper:{"data-count":typeof ie=="string"?ie:void 0}},hidden:V,inputElement:(0,N.jsx)(Be,v()(v()({},ne),{},{onKeyDown:h,onChange:K,onFocus:Re,onBlur:Ae,onCompositionStart:pe,onCompositionEnd:le,className:T==null?void 0:T.textarea,style:!F&&$,disabled:Q,prefixCls:M,ref:J}))});return Ze}),we=Ke,Fe=we}}]);
