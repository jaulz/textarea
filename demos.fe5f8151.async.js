"use strict";(self.webpackChunkrc_textarea=self.webpackChunkrc_textarea||[]).push([[433],{54239:function(le,E,e){e.r(E),e.d(E,{default:function(){return c}});var I=e(5574),b=e.n(I),P=e(39595),d=e(67294),r=e(85893);function c(){var O=(0,d.useState)(`hello
world`),g=b()(O,2),j=g[0],R=g[1],M=function(W){var i=W.target.value;R(i)};return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Uncontrolled"}),(0,r.jsx)(P.Z,{autoSize:!0,allowClear:!0}),(0,r.jsx)("p",{children:"controlled"}),(0,r.jsx)(P.Z,{value:j,onChange:M,allowClear:!0})]})}},31797:function(le,E,e){e.r(E),e.d(E,{default:function(){return c}});var I=e(5574),b=e.n(I),P=e(67294),d=e(39595),r=e(85893);function c(){var O=(0,P.useState)(`hello
world`),g=b()(O,2),j=g[0],R=g[1],M=function(i){var p=i.target.value;R(p)},T=function(i){var p=i.width,o=i.height;console.log("size is changed, width:".concat(p," height:").concat(o))};return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"when set to true"}),(0,r.jsx)(d.Z,{autoSize:!0,onResize:T,value:j,onChange:M}),(0,r.jsx)("p",{children:"when set to object of minRows and maxRows"}),(0,r.jsx)(d.Z,{autoSize:{minRows:5,maxRows:15},onResize:T,value:j,onChange:M})]})}},39919:function(le,E,e){e.r(E),e.d(E,{default:function(){return c}});var I=e(5574),b=e.n(I),P=e(39595),d=e(67294),r=e(85893);function c(){var O=(0,d.useState)(`hello
world`),g=b()(O,2),j=g[0],R=g[1],M=function(W){var i=W.target.value;R(i)};return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Uncontrolled"}),(0,r.jsx)(P.Z,{autoSize:!0,showCount:!0}),(0,r.jsx)("p",{children:"controlled"}),(0,r.jsx)(P.Z,{value:j,onChange:M,showCount:!0,maxLength:100})]})}},11289:function(le,E,e){e.r(E),e.d(E,{default:function(){return c}});var I=e(5574),b=e.n(I),P=e(67294),d=e(39595),r=e(85893);function c(){var O=(0,P.useState)(""),g=b()(O,2),j=g[0],R=g[1],M=function(p){var o=p.target.value;console.log(p.target.value),R(o)},T=function(p){var o=p.width,he=p.height;console.log("size is changed, width:".concat(o," height:").concat(he))},W=function(p){console.log("enter key is pressed")};return(0,r.jsx)("div",{children:(0,r.jsx)(d.Z,{prefixCls:"custom-textarea",onPressEnter:W,onResize:T,value:j,onChange:M,autoFocus:!0,onFocus:function(){return console.log("focus")}})})}},39595:function(le,E,e){e.d(E,{Z:function(){return Ke}});var I=e(52677),b=e.n(I),P=e(97857),d=e.n(P),r=e(5574),c=e.n(r),O=e(13769),g=e.n(O),j=e(19632),R=e.n(j),M=e(94184),T=e.n(M),W=e(59775),i=e(80133),p=e(60869),o=e(67294),he=e(9783),be=e.n(he),je=e(48555),Ae=e(82546),ze=e(64543),Me=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,Te=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],me={},A;function De(t){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=t.getAttribute("id")||t.getAttribute("data-reactid")||t.getAttribute("name");if(_&&me[n])return me[n];var s=window.getComputedStyle(t),v=s.getPropertyValue("box-sizing")||s.getPropertyValue("-moz-box-sizing")||s.getPropertyValue("-webkit-box-sizing"),z=parseFloat(s.getPropertyValue("padding-bottom"))+parseFloat(s.getPropertyValue("padding-top")),y=parseFloat(s.getPropertyValue("border-bottom-width"))+parseFloat(s.getPropertyValue("border-top-width")),u=Te.map(function(f){return"".concat(f,":").concat(s.getPropertyValue(f))}).join(";"),l={sizingStyle:u,paddingSize:z,borderSize:y,boxSizing:v};return _&&n&&(me[n]=l),l}function Ie(t){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;A||(A=document.createElement("textarea"),A.setAttribute("tab-index","-1"),A.setAttribute("aria-hidden","true"),document.body.appendChild(A)),t.getAttribute("wrap")?A.setAttribute("wrap",t.getAttribute("wrap")):A.removeAttribute("wrap");var v=De(t,_),z=v.paddingSize,y=v.borderSize,u=v.boxSizing,l=v.sizingStyle;A.setAttribute("style","".concat(l,";").concat(Me)),A.value=t.value||t.placeholder||"";var f=void 0,C=void 0,F,h=A.scrollHeight;if(u==="border-box"?h+=y:u==="content-box"&&(h-=z),n!==null||s!==null){A.value=" ";var V=A.scrollHeight-z;n!==null&&(f=V*n,u==="border-box"&&(f=f+z+y),h=Math.max(f,h)),s!==null&&(C=V*s,u==="border-box"&&(C=C+z+y),F=h>C?"":"hidden",h=Math.min(C,h))}var m={height:h,overflowY:F,resize:"none"};return f&&(m.minHeight=f),C&&(m.maxHeight=C),m}var J=e(85893),Oe=["prefixCls","onPressEnter","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],ge=0,xe=1,Se=2,We=o.forwardRef(function(t,_){var n=t,s=n.prefixCls,v=n.onPressEnter,z=n.defaultValue,y=n.value,u=n.autoSize,l=n.onResize,f=n.className,C=n.style,F=n.disabled,h=n.onChange,V=n.onInternalAutoSize,m=g()(n,Oe),N=(0,p.Z)(z,{value:y,postState:function(x){return x!=null?x:""}}),ee=c()(N,2),K=ee[0],G=ee[1],X=function(x){G(x.target.value),h==null||h(x)},U=o.useRef();o.useImperativeHandle(_,function(){return{textArea:U.current}});var ie=o.useMemo(function(){return u&&b()(u)==="object"?[u.minRows,u.maxRows]:[]},[u]),$=c()(ie,2),Q=$[0],Z=$[1],te=!!u,ue=function(){try{if(document.activeElement===U.current){var x=U.current,Ce=x.selectionStart,Y=x.selectionEnd,ve=x.scrollTop;U.current.setSelectionRange(Ce,Y),U.current.scrollTop=ve}}catch(Re){}},Ee=o.useState(Se),k=c()(Ee,2),w=k[0],q=k[1],de=o.useState(),ne=c()(de,2),ae=ne[0],re=ne[1],oe=function(){q(ge)};(0,Ae.default)(function(){te&&oe()},[y,Q,Z,te]),(0,Ae.default)(function(){if(w===ge)q(xe);else if(w===xe){var L=Ie(U.current,!1,Q,Z);q(Se),re(L)}else ue()},[w]);var H=o.useRef(),ce=function(){ze.Z.cancel(H.current)},pe=function(x){w===Se&&(l==null||l(x),u&&(ce(),H.current=(0,ze.Z)(function(){oe()})))};o.useEffect(function(){return ce},[]);var _e=te?ae:null,se=d()(d()({},C),_e);return(w===ge||w===xe)&&(se.overflowY="hidden",se.overflowX="hidden"),(0,J.jsx)(je.Z,{onResize:pe,disabled:!(u||l),children:(0,J.jsx)("textarea",d()(d()({},m),{},{ref:U,style:se,className:T()(s,f,be()({},"".concat(s,"-disabled"),F)),disabled:F,value:K,onChange:X}))})}),Ue=We,Le=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","classes","showCount","className","style","disabled"];function ye(t,_){return R()(t||"").slice(0,_).join("")}function Pe(t,_,n,s){var v=n;return t?v=ye(n,s):R()(_||"").length<n.length&&R()(n||"").length>s&&(v=_),v}var Be=o.forwardRef(function(t,_){var n=t.defaultValue,s=t.value,v=t.onFocus,z=t.onBlur,y=t.onChange,u=t.allowClear,l=t.maxLength,f=t.onCompositionStart,C=t.onCompositionEnd,F=t.suffix,h=t.prefixCls,V=h===void 0?"rc-textarea":h,m=t.classes,N=t.showCount,ee=t.className,K=t.style,G=t.disabled,X=g()(t,Le),U=(0,p.Z)(n,{value:s,defaultValue:n}),ie=c()(U,2),$=ie[0],Q=ie[1],Z=(0,o.useRef)(null),te=o.useState(!1),ue=c()(te,2),Ee=ue[0],k=ue[1],w=o.useState(!1),q=c()(w,2),de=q[0],ne=q[1],ae=o.useRef(),re=o.useRef(0),oe=function(){Z.current.textArea.focus()};(0,o.useImperativeHandle)(_,function(){return{resizableTextArea:Z.current,focus:oe,blur:function(){Z.current.textArea.blur()}}}),(0,o.useEffect)(function(){k(function(D){return!G&&D})},[G]);var H=Number(l)>0,ce=function(a){ne(!0),ae.current=$,re.current=a.currentTarget.selectionStart,f==null||f(a)},pe=function(a){ne(!1);var S=a.currentTarget.value;if(H){var B,Ze=re.current>=l+1||re.current===((B=ae.current)===null||B===void 0?void 0:B.length);S=Pe(Ze,ae.current,S,l)}S!==$&&(Q(S),(0,i.rJ)(a.currentTarget,a,y,S)),C==null||C(a)},_e=function(a){var S=a.target.value;if(!de&&H){var B=a.target.selectionStart>=l+1||a.target.selectionStart===S.length||!a.target.selectionStart;S=Pe(B,$,S,l)}Q(S),(0,i.rJ)(a.currentTarget,a,y,S)},se=function(a){var S=X.onPressEnter,B=X.onKeyDown;a.key==="Enter"&&S&&S(a),B==null||B(a)},L=function(a){k(!0),v==null||v(a)},x=function(a){k(!1),z==null||z(a)},Ce=function(a){Q(""),oe(),(0,i.rJ)(Z.current.textArea,a,y)},Y=(0,i.D7)($);!de&&H&&s==null&&(Y=ye(Y,l));var ve=(0,J.jsx)(W.Q,{value:Y,allowClear:u,handleReset:Ce,suffix:F,prefixCls:V,classes:{affixWrapper:m==null?void 0:m.affixWrapper},disabled:G,focused:Ee,style:K,inputStyle:{resize:K==null?void 0:K.resize},inputElement:(0,J.jsx)(Ue,d()(d()({},X),{},{onKeyDown:se,onChange:_e,onFocus:L,onBlur:x,onCompositionStart:ce,onCompositionEnd:pe,className:T()(N?"":ee,m==null?void 0:m.textarea),style:!N&&K,disabled:G,prefixCls:V,ref:Z}))});if(N){var Re=R()(Y).length,fe;return b()(N)==="object"?fe=N.formatter({value:Y,count:Re,maxLength:l}):fe="".concat(Re).concat(H?" / ".concat(l):""),(0,J.jsxs)("div",{hidden:X.hidden,className:T()("".concat(V,"-show-count"),ee,m==null?void 0:m.countWrapper),style:K,"data-count":fe,children:[ve,(0,J.jsx)("span",{className:"".concat(V,"-data-count"),children:fe})]})}return ve}),Ve=Be,Ke=Ve}}]);
