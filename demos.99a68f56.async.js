"use strict";(self.webpackChunkrc_textarea=self.webpackChunkrc_textarea||[]).push([[433],{54239:function(ae,x,e){e.r(x),e.d(x,{default:function(){return h}});var D=e(5574),j=e.n(D),y=e(39595),m=e(67294),r=e(85893);function h(){var I=(0,m.useState)(`hello
world`),g=j()(I,2),M=g[0],C=g[1],T=function(W){var u=W.target.value;C(u)};return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Uncontrolled"}),(0,r.jsx)(y.Z,{autoSize:!0,allowClear:!0}),(0,r.jsx)("p",{children:"controlled"}),(0,r.jsx)(y.Z,{value:M,onChange:T,allowClear:!0})]})}},31797:function(ae,x,e){e.r(x),e.d(x,{default:function(){return h}});var D=e(5574),j=e.n(D),y=e(67294),m=e(39595),r=e(85893);function h(){var I=(0,y.useState)(`hello
world`),g=j()(I,2),M=g[0],C=g[1],T=function(u){var S=u.target.value;C(S)},O=function(u){var S=u.width,i=u.height;console.log("size is changed, width:".concat(S," height:").concat(i))};return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"when set to true"}),(0,r.jsx)(m.Z,{autoSize:!0,onResize:O,value:M,onChange:T}),(0,r.jsx)("p",{children:"when set to object of minRows and maxRows"}),(0,r.jsx)(m.Z,{autoSize:{minRows:5,maxRows:15},onResize:O,value:M,onChange:T})]})}},39919:function(ae,x,e){e.r(x),e.d(x,{default:function(){return h}});var D=e(5574),j=e.n(D),y=e(39595),m=e(67294),r=e(85893);function h(){var I=(0,m.useState)(`hello
world`),g=j()(I,2),M=g[0],C=g[1],T=function(W){var u=W.target.value;C(u)};return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Uncontrolled"}),(0,r.jsx)(y.Z,{autoSize:!0,showCount:!0}),(0,r.jsx)("p",{children:"controlled"}),(0,r.jsx)(y.Z,{value:M,onChange:T,showCount:!0,maxLength:100})]})}},11289:function(ae,x,e){e.r(x),e.d(x,{default:function(){return h}});var D=e(5574),j=e.n(D),y=e(67294),m=e(39595),r=e(85893);function h(){var I=(0,y.useState)(""),g=j()(I,2),M=g[0],C=g[1],T=function(S){var i=S.target.value;console.log(S.target.value),C(i)},O=function(S){var i=S.width,le=S.height;console.log("size is changed, width:".concat(i," height:").concat(le))},W=function(S){console.log("enter key is pressed")};return(0,r.jsx)("div",{children:(0,r.jsx)(m.Z,{prefixCls:"custom-textarea",onPressEnter:W,onResize:O,value:M,onChange:T,autoFocus:!0,onFocus:function(){return console.log("focus")}})})}},39595:function(ae,x,e){e.d(x,{Z:function(){return Ie}});var D=e(52677),j=e.n(D),y=e(97857),m=e.n(y),r=e(5574),h=e.n(r),I=e(13769),g=e.n(I),M=e(19632),C=e.n(M),T=e(94184),O=e.n(T),W=e(59775),u=e(80133),S=e(60869),i=e(67294),le=e(9783),_e=e.n(le),Ce=e(48555),xe=e(82546),Se=e(64543),Re=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,Ae=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],ie={},R;function ze(t){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=t.getAttribute("id")||t.getAttribute("data-reactid")||t.getAttribute("name");if(E&&ie[a])return ie[a];var o=window.getComputedStyle(t),d=o.getPropertyValue("box-sizing")||o.getPropertyValue("-moz-box-sizing")||o.getPropertyValue("-webkit-box-sizing"),U=parseFloat(o.getPropertyValue("padding-bottom"))+parseFloat(o.getPropertyValue("padding-top")),c=parseFloat(o.getPropertyValue("border-bottom-width"))+parseFloat(o.getPropertyValue("border-top-width")),p=Ae.map(function(f){return"".concat(f,":").concat(o.getPropertyValue(f))}).join(";"),v={sizingStyle:p,paddingSize:U,borderSize:c,boxSizing:d};return E&&a&&(ie[a]=v),v}function ye(t){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;R||(R=document.createElement("textarea"),R.setAttribute("tab-index","-1"),R.setAttribute("aria-hidden","true"),document.body.appendChild(R)),t.getAttribute("wrap")?R.setAttribute("wrap",t.getAttribute("wrap")):R.removeAttribute("wrap");var d=ze(t,E),U=d.paddingSize,c=d.borderSize,p=d.boxSizing,v=d.sizingStyle;R.setAttribute("style","".concat(v,";").concat(Re)),R.value=t.value||t.placeholder||"";var f=void 0,A=void 0,L,_=R.scrollHeight;if(p==="border-box"?_+=c:p==="content-box"&&(_-=U),a!==null||o!==null){R.value=" ";var z=R.scrollHeight-U;a!==null&&(f=z*a,p==="border-box"&&(f=f+U+c),_=Math.max(f,_)),o!==null&&(A=z*o,p==="border-box"&&(A=A+U+c),L=_>A?"":"hidden",_=Math.min(A,_))}var B={height:_,overflowY:L,resize:"none"};return f&&(B.minHeight=f),A&&(B.maxHeight=A),B}var F=e(85893),Pe=["prefixCls","onPressEnter","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],ue=0,de=1,ce=2,be=i.forwardRef(function(t,E){var a=t,o=a.prefixCls,d=o===void 0?"rc-textarea":o,U=a.onPressEnter,c=a.defaultValue,p=a.value,v=a.autoSize,f=a.onResize,A=a.className,L=a.style,_=a.disabled,z=a.onChange,B=a.onInternalAutoSize,Z=g()(a,Pe),ne=(0,S.Z)(c,{value:p,postState:function(l){return l!=null?l:""}}),N=h()(ne,2),ve=N[0],re=N[1],H=function(l){re(l.target.value),z==null||z(l)},P=i.useRef();i.useImperativeHandle(E,function(){return{textArea:P.current}});var w=i.useMemo(function(){return v&&j()(v)==="object"?[v.minRows,v.maxRows]:[]},[v]),oe=h()(w,2),J=oe[0],G=oe[1],$=!!v,X=function(){try{if(document.activeElement===P.current){var l=P.current,ge=l.selectionStart,Oe=l.selectionEnd,We=l.scrollTop;P.current.setSelectionRange(ge,Oe),P.current.scrollTop=We}}catch(Ue){}},Q=i.useState(ce),k=h()(Q,2),b=k[0],q=k[1],fe=i.useState(),se=h()(fe,2),me=se[0],he=se[1],V=function(){q(ue)};(0,xe.default)(function(){$&&V()},[p,J,G,$]),(0,xe.default)(function(){if(b===ue)q(de);else if(b===de){var s=ye(P.current,!1,J,G);q(ce),he(s)}else X()},[b]);var ee=i.useRef(),te=function(){Se.Z.cancel(ee.current)},Y=function(l){b===ce&&(f==null||f(l),v&&(te(),ee.current=(0,Se.Z)(function(){V()})))};i.useEffect(function(){return te},[]);var K=$?me:null,n=m()(m()({},L),K);return(b===ue||b===de)&&(n.overflowY="hidden",n.overflowX="hidden"),(0,F.jsx)(Ce.Z,{onResize:Y,disabled:!(v||f),children:(0,F.jsx)("textarea",m()(m()({},Z),{},{ref:P,style:n,className:O()(d,A,_e()({},"".concat(d,"-disabled"),_)),disabled:_,value:ve,onChange:H}))})}),je=be,Me=["defaultValue","value","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","affixWrapperClassName","showCount","className","style","disabled"];function Ee(t,E){return C()(t||"").slice(0,E).join("")}function pe(t,E,a,o){var d=a;return t?d=Ee(a,o):C()(E||"").length<a.length&&C()(a||"").length>o&&(d=E),d}var Te=i.forwardRef(function(t,E){var a=t.defaultValue,o=t.value,d=t.onChange,U=t.allowClear,c=t.maxLength,p=t.onCompositionStart,v=t.onCompositionEnd,f=t.suffix,A=t.prefixCls,L=A===void 0?"rc-textarea":A,_=t.affixWrapperClassName,z=t.showCount,B=t.className,Z=t.style,ne=t.disabled,N=g()(t,Me),ve=(0,S.Z)(a,{value:o,defaultValue:a}),re=h()(ve,2),H=re[0],P=re[1],w=(0,i.useRef)(null),oe=i.useState(!1),J=h()(oe,2),G=J[0],$=J[1],X=i.useRef(),Q=i.useRef(0),k=function(){w.current.textArea.focus()};(0,i.useImperativeHandle)(E,function(){return{resizableTextArea:w.current,focus:k,blur:function(){w.current.textArea.blur()}}});var b=Number(c)>0,q=function(n){$(!0),X.current=H,Q.current=n.currentTarget.selectionStart,p==null||p(n)},fe=function(n){$(!1);var s=n.currentTarget.value;if(b){var l,ge=Q.current>=c+1||Q.current===((l=X.current)===null||l===void 0?void 0:l.length);s=pe(ge,X.current,s,c)}s!==H&&(P(s),(0,u.rJ)(n.currentTarget,n,d,s)),v==null||v(n)},se=function(n){var s=n.target.value;if(!G&&b){var l=n.target.selectionStart>=c+1||n.target.selectionStart===s.length||!n.target.selectionStart;s=pe(l,H,s,c)}P(s),(0,u.rJ)(n.currentTarget,n,d,s)},me=function(n){var s=N.onPressEnter,l=N.onKeyDown;n.key==="Enter"&&s&&s(n),l==null||l(n)},he=function(n){P(""),k(),(0,u.rJ)(w.current.textArea,n,d)},V=(0,u.D7)(H);!G&&b&&o==null&&(V=Ee(V,c));var ee=(0,F.jsx)(W.Q,{value:V,allowClear:U,handleReset:he,suffix:f,prefixCls:L,affixWrapperClassName:_,disabled:ne,inputElement:(0,F.jsx)(je,m()(m()({},N),{},{onKeyDown:me,onChange:se,onCompositionStart:q,onCompositionEnd:fe,maxLength:c,className:z?B:"",style:z?{resize:Z==null?void 0:Z.resize}:Z,disabled:ne,ref:w}))});if(z){var te=C()(V).length,Y="";return j()(z)==="object"?Y=z.formatter({value:V,count:te,maxLength:c}):Y="".concat(te).concat(b?" / ".concat(c):""),(0,F.jsxs)("div",{hidden:N.hidden,className:O()("".concat(L,"-show-count"),B),style:Z,"data-count":Y,children:[ee,(0,F.jsx)("span",{className:"".concat(L,"-data-count"),children:Y})]})}return ee}),De=Te,Ie=De}}]);
