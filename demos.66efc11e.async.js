"use strict";(self.webpackChunkrc_textarea=self.webpackChunkrc_textarea||[]).push([[433],{54239:function(le,m,e){e.r(m),e.d(m,{default:function(){return j}});var L=e(27424),v=e.n(L),y=e(39595),E=e(67294),r=e(85893);function j(){var B=(0,E.useState)(`hello
world`),l=v()(B,2),b=l[0],_=l[1],I=function(V){var u=V.target.value;_(u)};return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Uncontrolled"}),(0,r.jsx)(y.Z,{autoSize:!0,allowClear:!0}),(0,r.jsx)("p",{children:"controlled"}),(0,r.jsx)(y.Z,{value:b,onChange:I,allowClear:!0})]})}},31797:function(le,m,e){e.r(m),e.d(m,{default:function(){return j}});var L=e(27424),v=e.n(L),y=e(67294),E=e(39595),r=e(85893);function j(){var B=(0,y.useState)(`hello
world`),l=v()(B,2),b=l[0],_=l[1],I=function(u){var C=u.target.value;_(C)},P=function(u){var C=u.width,O=u.height;console.log("size is changed, width:".concat(C," height:").concat(O))};return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"when set to true"}),(0,r.jsx)(E.Z,{autoSize:!0,onResize:P,value:b,onChange:I}),(0,r.jsx)("p",{children:"when set to object of minRows and maxRows"}),(0,r.jsx)(E.Z,{autoSize:{minRows:5,maxRows:15},onResize:P,value:b,onChange:I})]})}},39919:function(le,m,e){e.r(m),e.d(m,{default:function(){return j}});var L=e(27424),v=e.n(L),y=e(39595),E=e(67294),r=e(85893);function j(){var B=(0,E.useState)(`hello
world`),l=v()(B,2),b=l[0],_=l[1],I=function(V){var u=V.target.value;_(u)};return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Uncontrolled"}),(0,r.jsx)(y.Z,{autoSize:!0,showCount:!0}),(0,r.jsx)("p",{children:"controlled"}),(0,r.jsx)(y.Z,{value:b,onChange:I,showCount:!0,maxLength:100})]})}},11289:function(le,m,e){e.r(m),e.d(m,{default:function(){return j}});var L=e(27424),v=e.n(L),y=e(67294),E=e(39595),r=e(85893);function j(){var B=(0,y.useState)(""),l=v()(B,2),b=l[0],_=l[1],I=function(C){var O=C.target.value;console.log(C.target.value),_(O)},P=function(C){var O=C.width,ie=C.height;console.log("size is changed, width:".concat(O," height:").concat(ie))},V=function(C){console.log("enter key is pressed")};return(0,r.jsx)("div",{children:(0,r.jsx)(E.Z,{prefixCls:"custom-textarea",onPressEnter:V,onResize:P,value:b,onChange:I,autoFocus:!0,onFocus:function(){return console.log("focus")}})})}},39595:function(le,m,e){e.d(m,{Z:function(){return we}});var L=e(42122),v=e.n(L),y=e(38416),E=e.n(y),r=e(18698),j=e.n(r),B=e(27424),l=e.n(B),b=e(70215),_=e.n(b),I=e(861),P=e.n(I),V=e(94184),u=e.n(V),C=e(59775),O=e(80133),ie=e(60869),d=e(67294),je=e(48555),ye=e(82546),Pe=e(64543),be=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,_e=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],he={},p;function Ie(t){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=t.getAttribute("id")||t.getAttribute("data-reactid")||t.getAttribute("name");if(x&&he[n])return he[n];var o=window.getComputedStyle(t),c=o.getPropertyValue("box-sizing")||o.getPropertyValue("-moz-box-sizing")||o.getPropertyValue("-webkit-box-sizing"),R=parseFloat(o.getPropertyValue("padding-bottom"))+parseFloat(o.getPropertyValue("padding-top")),A=parseFloat(o.getPropertyValue("border-bottom-width"))+parseFloat(o.getPropertyValue("border-top-width")),i=_e.map(function(s){return"".concat(s,":").concat(o.getPropertyValue(s))}).join(";"),z={sizingStyle:i,paddingSize:R,borderSize:A,boxSizing:c};return x&&n&&(he[n]=z),z}function Oe(t){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;p||(p=document.createElement("textarea"),p.setAttribute("tab-index","-1"),p.setAttribute("aria-hidden","true"),document.body.appendChild(p)),t.getAttribute("wrap")?p.setAttribute("wrap",t.getAttribute("wrap")):p.removeAttribute("wrap");var c=Ie(t,x),R=c.paddingSize,A=c.borderSize,i=c.boxSizing,z=c.sizingStyle;p.setAttribute("style","".concat(z,";").concat(be)),p.value=t.value||t.placeholder||"";var s=void 0,S=void 0,K,f=p.scrollHeight;if(i==="border-box"?f+=A:i==="content-box"&&(f-=R),n!==null||o!==null){p.value=" ";var X=p.scrollHeight-R;n!==null&&(s=X*n,i==="border-box"&&(s=s+R+A),f=Math.max(s,f)),o!==null&&(S=X*o,i==="border-box"&&(S=S+R+A),K=f>S?"":"hidden",f=Math.min(S,f))}var M={height:f,overflowY:K,resize:"none"};return s&&(M.minHeight=s),S&&(M.maxHeight=S),M}var $=e(85893),We=["prefixCls","onPressEnter","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],ge=0,me=1,xe=2,Ue=d.forwardRef(function(t,x){var n=t,o=n.prefixCls,c=n.onPressEnter,R=n.defaultValue,A=n.value,i=n.autoSize,z=n.onResize,s=n.className,S=n.style,K=n.disabled,f=n.onChange,X=n.onInternalAutoSize,M=_()(n,We),T=(0,ie.Z)(R,{value:A,postState:function(h){return h!=null?h:""}}),w=l()(T,2),Se=w[0],H=w[1],Q=function(h){H(h.target.value),f==null||f(h)},D=d.useRef();d.useImperativeHandle(x,function(){return{textArea:D.current}});var Ee=d.useMemo(function(){return i&&j()(i)==="object"?[i.minRows,i.maxRows]:[]},[i]),ee=l()(Ee,2),Y=ee[0],k=ee[1],F=!!i,Ce=function(){try{if(document.activeElement===D.current){var h=D.current,Ae=h.selectionStart,ze=h.selectionEnd,G=h.scrollTop;D.current.setSelectionRange(Ae,ze),D.current.scrollTop=G}}catch(fe){}},ue=d.useState(xe),de=l()(ue,2),W=de[0],te=de[1],ce=d.useState(),ne=l()(ce,2),ve=ne[0],ae=ne[1],q=function(){te(ge)};(0,ye.default)(function(){F&&q()},[A,Y,k,F]),(0,ye.default)(function(){if(W===ge)te(me);else if(W===me){var Z=Oe(D.current,!1,Y,k);te(xe),ae(Z)}else Ce()},[W]);var re=d.useRef(),J=function(){Pe.Z.cancel(re.current)},pe=function(h){W===xe&&(z==null||z(h),i&&(J(),re.current=(0,Pe.Z)(function(){q()})))};d.useEffect(function(){return J},[]);var Re=F?ve:null,oe=v()(v()({},S),Re);return(W===ge||W===me)&&(oe.overflowY="hidden",oe.overflowX="hidden"),(0,$.jsx)(je.Z,{onResize:pe,disabled:!(i||z),children:(0,$.jsx)("textarea",v()(v()({},M),{},{ref:D,style:oe,className:u()(o,s,E()({},"".concat(o,"-disabled"),K)),disabled:K,value:Se,onChange:Q}))})}),Le=Ue,Be=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","classes","showCount","className","style","disabled"];function Me(t,x){return P()(t||"").slice(0,x).join("")}function Te(t,x,n,o){var c=n;return t?c=Me(n,o):P()(x||"").length<n.length&&P()(n||"").length>o&&(c=x),c}var Ve=d.forwardRef(function(t,x){var n,o=t.defaultValue,c=t.value,R=t.onFocus,A=t.onBlur,i=t.onChange,z=t.allowClear,s=t.maxLength,S=t.onCompositionStart,K=t.onCompositionEnd,f=t.suffix,X=t.prefixCls,M=X===void 0?"rc-textarea":X,T=t.classes,w=t.showCount,Se=t.className,H=t.style,Q=t.disabled,D=_()(t,Be),Ee=(0,ie.Z)(o,{value:c,defaultValue:o}),ee=l()(Ee,2),Y=ee[0],k=ee[1],F=(0,d.useRef)(null),Ce=d.useState(!1),ue=l()(Ce,2),de=ue[0],W=ue[1],te=d.useState(!1),ce=l()(te,2),ne=ce[0],ve=ce[1],ae=d.useRef(),q=d.useRef(0),re=function(){F.current.textArea.focus()};(0,d.useImperativeHandle)(x,function(){return{resizableTextArea:F.current,focus:re,blur:function(){F.current.textArea.blur()}}}),(0,d.useEffect)(function(){W(function(U){return!Q&&U})},[Q]);var J=Number(s)>0,pe=function(a){ve(!0),ae.current=Y,q.current=a.currentTarget.selectionStart,S==null||S(a)},Re=function(a){ve(!1);var g=a.currentTarget.value;if(J){var N,Ze=q.current>=s+1||q.current===((N=ae.current)===null||N===void 0?void 0:N.length);g=Te(Ze,ae.current,g,s)}g!==Y&&(k(g),(0,O.rJ)(a.currentTarget,a,i,g)),K==null||K(a)},oe=function(a){var g=a.target.value;if(!ne&&J){var N=a.target.selectionStart>=s+1||a.target.selectionStart===g.length||!a.target.selectionStart;g=Te(N,Y,g,s)}k(g),(0,O.rJ)(a.currentTarget,a,i,g)},Z=function(a){var g=D.onPressEnter,N=D.onKeyDown;a.key==="Enter"&&g&&g(a),N==null||N(a)},h=function(a){W(!0),R==null||R(a)},Ae=function(a){W(!1),A==null||A(a)},ze=function(a){k(""),re(),(0,O.rJ)(F.current.textArea,a,i)},G=(0,O.D7)(Y);!ne&&J&&c==null&&(G=Me(G,s));var fe=f,se;if(w){var De=P()(G).length;j()(w)==="object"?se=w.formatter({value:G,count:De,maxLength:s}):se="".concat(De).concat(J?" / ".concat(s):""),fe=(0,$.jsxs)($.Fragment,{children:[fe,(0,$.jsx)("span",{className:u()("".concat(M,"-data-count"),T==null?void 0:T.count),children:se})]})}var Fe=(0,$.jsx)(C.Q,{value:G,allowClear:z,handleReset:ze,suffix:fe,prefixCls:M,classes:{affixWrapper:u()(T==null?void 0:T.affixWrapper,(n={},E()(n,"".concat(M,"-show-count"),w),E()(n,"".concat(M,"-textarea-allow-clear"),z),n))},disabled:Q,focused:de,style:H,inputStyle:{resize:H==null?void 0:H.resize},dataAttrs:{affixWrapper:{"data-count":typeof se=="string"?se:void 0}},inputElement:(0,$.jsx)(Le,v()(v()({},D),{},{onKeyDown:Z,onChange:oe,onFocus:h,onBlur:Ae,onCompositionStart:pe,onCompositionEnd:Re,className:u()(w?"":Se,T==null?void 0:T.textarea),style:!w&&H,disabled:Q,prefixCls:M,ref:F}))});return Fe}),Ke=Ve,we=Ke}}]);
